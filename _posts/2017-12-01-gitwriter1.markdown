---
layout:     post
title:      "gitwriter项目1"
subtitle:   " \"一个出于兴趣而诞生的小项目\""
date:       2017-12-1 19:53:00
author:     "huangyang"
header-img: "img/post-bg-2015.jpg"
tags:
    - gitwriter
---

# 前因
这个项目名叫gitwriter，起因是前一阵看了[涛涛的博客](http://cripps.gitee.io/)，里面有一个摄影集。其实就是一篇帖子，里面依次罗列了很多照片。感觉基于git pages服务搭建的博客里面要是更新照片，如果还像平时写博客那样，不是很方便。毕竟照片的采集是平日里不经意而为，尤其是我们这种非器材党，喜欢用手机采集照片的人，最理想的方式就是手机拍摄照片，写几句文字，不知不觉就更新到了博客的指定位置了。  

进而又想到，16年年会后，我当时想为公司的研发同事实现一个软件，让大家平时玩的时候，有好的东西能分享出来。不是分享到微信朋友圈。因为朋友圈的信息没有固定主题，没有汇总，事后也不便于统一查看，最好是分享到一个主题下，大家各自分享，但最后都可以去某个网站看到本次主题游玩的分享记录，按照时间轴串起来。

这两个想法加在一起，促成了这个项目的诞生，申请了gitwriter的域名，阿里云ecs，翻出了去年申请的公众号“同事同玩”，好了，万事俱备。剩下的就看我的兴趣能驱使我走多远了。项目暂时还是私有项目（毕竟还没什么东东呢），等项目基本成型了，自己先用一阵找找感觉，然后会分享出来。

这个博客系列将会记录这个项目的点点滴滴吧。毕竟不是在做教程，所以技术上点到为止吧，说说思路，说说感悟，哪怕项目将来无疾而终了，也算是在这里留下点痕迹。

# 设计思路
项目用户的操作是基于手机的，前提是这些用户都有微信，gitee（码云）账户，因为分享的内容会通过微信提交到码云的pages项目（pages是github和码云提供的一种静态内容博客的服务）下。

本项目会提供一个公众号，用户首先关注本公众号。然后通过公众号上的链接，进入项目主页（一个webpage），在此页面，可以注册，或者使用微信或码云账户登陆。登陆后，会要求用户分别针对微信和码云进行oauth授权。授权后，用户在微信的操作就能和个人的码云git仓库关联起来。授权设置完成后，用户可以在页面中管理自己当前要参与的主题，一个主题对应用户参与的一个码云Pages项目下的一篇博客，不要求该项目是public项目，但参与该主题的用户必须是该pages项目的开发者成员（毕竟是给研发人员用的，或者说是给基于pages写博客 研发人员用的，所以这个不应成为障碍），否则将无法更新博客（分享过程其实也就是更新博客的过程）。设置完成后，就可以开始使用了。

用户通过微信发送给公众号的图片，文字，会自动更新到对应博客的博文中。平台会在博文更新的时候，同步标记更新的时间，作者，使得该博文成为一篇多人参与的主题博文，例如游记。于是每当几个人想要启动一个新主题时，只需要新建一篇博文，参与主题的人，登陆网页修改一下自己的当前设置即可。

试想一下，一群程序猿（媛）组织一个集体活动，活动前，新建一篇博客文章，题目是“xxx游玩”，参与者大家分别登录主机，参与该主题。活动的过程中，每个人随时可以通过微信拍照，输入文字感想，只要发送给指定的公众号即可。游玩结束，大家都能从该博客的页面上，看到本次游玩的游记，与“同事同玩”的主题完美吻合。哪怕不是一起玩耍，是自己平时针对某个主题有兴趣，例如摄影，我分享的内容直接发布到自己博客摄影主题的博文下面，也是很方便的，免去了上传图片，分享照片的操作。相比当下不少照片分享的服务网站而言，这种方式貌似更适合我们程序员些。

![输入图片说明]({{ site.baseurl }}/img/in-post/2017-12-01-gitwriter1-211804_453bc4fc_58701.png "1.png")

# 进展
截至目前的进展如下：
- 公众号（“同事同玩”）、阿里云ECS、域名申请并认证完成
![输入图片说明]({{ site.baseurl }}/img/in-post/2017-12-01-gitwriter1-212134_e8b95a4b_58701.png "1.png")
- 项目建立
![输入图片说明]({{ site.baseurl }}/img/in-post/2017-12-01-gitwriter1-212305_d1b9d958_58701.png "1.png")
- 微信授权、gitee授权部分代码完成
- 微信消息处理接口完成，能够接收到微信的文字消息，并处理回复
- 使用gitee授权获得的access_token执行新建文件操作

今天，完整验证了通过微信公众号发一条文字消息 blog:text，则会自动在我预设的gitwriter_test项目下新建一个文本文件，文件的内容是blog:后面的文字。
![输入图片说明]({{ site.baseurl }}/img/in-post/2017-12-01-gitwriter1-214628_a25df070_58701.jpeg "1.jpg") 
![输入图片说明]({{ site.baseurl }}/img/in-post/2017-12-01-gitwriter1-212921_c8af9460_58701.png "1.png")  
还是很开心的，万里长征走出第一步。

# 下一步目标
- 用户注册登陆机制（前端页面和后端实现），在服务器上搭建mongodb数据库，（当前的项目基于springboot + vue2.0实现，暂时还没用到数据库），这个机制在我的另一个项目也要用到。正好，两件事当一件事做了。

# 远期目标
不细说了，按照设计思路，要干的事太多了。前端技能薄弱，估计做起来比较慢。昨天发现刘老师（一个同事的昵称）在做git博客编辑器，希望将来能一起合作，或者再拉几个人入伙，人多力量大嘛。

